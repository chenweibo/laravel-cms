(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c3a5835"],{"0e39":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"fix-nav"},[r("el-row",{attrs:{type:"flex",justify:"end"}},[r("el-col",{attrs:{span:1,xs:5}},[r("customize",{attrs:{extra:t.form.extra},on:{"update:extra":function(e){return t.$set(t.form,"extra",e)}}})],1),t._v(" "),r("el-col",{attrs:{span:1,xs:5}},[r("el-button",{attrs:{size:"mini",type:"success"},on:{click:t.save}},[t._v("保存")])],1)],1)],1),t._v(" "),r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"标题",prop:"title"}},[r("el-input",{attrs:{placeholder:"请输入栏目名称"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"所属"}},[r("SelectTree",{attrs:{props:t.props,options:t.treeList,value:t.valueId,clearable:t.isClearable,accordion:t.isAccordion},on:{getValue:function(e){return t.getValue(e)}}})],1),t._v(" "),r("el-form-item",{attrs:{label:"排序"}},[r("el-input",{attrs:{placeholder:"排序"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"推荐"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.form.recommend,callback:function(e){t.$set(t.form,"recommend",e)},expression:"form.recommend"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"重定向"}},[r("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"重定向地址"},model:{value:t.form.redirect,callback:function(e){t.$set(t.form,"redirect",e)},expression:"form.redirect"}}),t._v(" "),r("a-tag",[r("a-icon",{attrs:{type:"exclamation-circle"}}),t._v('  如果重定向内部地址则不需要带"http//"，需要以"/"开头。\n        ')],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"自定义日期"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"内容"}},[r("tinymce",{attrs:{height:300},model:{value:t.form.detail,callback:function(e){t.$set(t.form,"detail",e)},expression:"form.detail"}})],1),t._v(" "),r("CustomizeView",{attrs:{extra:t.form.extra},on:{"update:extra":function(e){return t.$set(t.form,"extra",e)}}})],1)],1),t._v(" "),r("a-back-top")],1)},a=[],o=(r("f751"),r("a879")),i=r("957c5"),c=r("cc48"),l=r("3de8"),s=r("8256"),u=r("2ef0"),f=r.n(u),d={id:void 0,title:"",menus_id:1,type:void 0,sort:99,recommend:!1,redirect:"",thumbnail:"",detail:"",page_views:0,time:"",status:!0,extra:[]},m={name:"ContentDetail",components:{customize:o["a"],SelectTree:l["a"],Tinymce:s["a"],CustomizeView:i["a"]},props:{isEdit:{type:Boolean,default:!1}},data:function(){return{form:Object.assign({},d),tempRoute:{},isClearable:!0,isAccordion:!0,valueId:1,props:{value:"id",label:"title",children:"children"},treeList:[],rules:{title:[{required:!0,message:"标题不能为空",trigger:"blur"}]}}},created:function(){if(this.isEdit){var t=this.$route.params.id;this.fetchData(t)}else this.createData();this.tempRoute=Object.assign({},this.$route)},methods:{back:function(){var t=this;if(window.history.length<=1)return this.$router.push({path:"/content/index"}),!1;this.$router.go(-1),setTimeout((function(){t.$router.push({path:"/content/index"})}),500)},createData:function(){var t=this;Object(c["a"])().then((function(e){var r=e.menu,n=e.component;t.treeList=r,t.form.extra=n}))},fetchData:function(t){var e=this;Object(c["c"])(t).then((function(t){var r=t.content,n=t.menu,a=t.component;e.form=r,e.valueId=e.form.menus_id,e.treeList=n,e.handleComponent(r.extra,a),e.setTagsViewTitle(),e.setPageTitle()})).catch((function(t){console.log(t)}))},handleComponent:function(t,e){var r=f.a.concat(t,e),n=f.a.uniqBy(r,"label");this.form.extra=n},setTagsViewTitle:function(){var t="内容编辑",e=Object.assign({},this.tempRoute,{title:"".concat(t,"-").concat(this.form.title)});this.$store.dispatch("tagsView/updateVisitedView",e)},setPageTitle:function(){var t="内容编辑";document.title="".concat(t," - ").concat(this.form.title)},getValue:function(t){this.form.menus_id=t},save:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.isEdit?Object(c["f"])(t.form.id,t.form).then((function(e){t.$store.dispatch("tagsView/delVisitedView",t.$route),t.$router.go(-1)})):Object(c["e"])(t.form).then((function(e){t.$router.go(-1),t.$store.dispatch("tagsView/delVisitedView",t.$route)}))}))}}},p=m,h=(r("fc98"),r("2877")),v=Object(h["a"])(p,n,a,!1,null,"1c098dbc",null);e["a"]=v.exports},"5dbc":function(t,e,r){var n=r("d3f4"),a=r("8b97").set;t.exports=function(t,e,r){var o,i=e.constructor;return i!==r&&"function"==typeof i&&(o=i.prototype)!==r.prototype&&n(o)&&a&&a(t,o),t}},"8b97":function(t,e,r){var n=r("d3f4"),a=r("cb7c"),o=function(t,e){if(a(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:o}},"91b6":function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return o}));var n=r("b775");function a(t){return Object(n["a"])({url:"admin/upload/common",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function o(t){return Object(n["a"])({url:"admin/upload/file",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}},9307:function(t,e,r){},aa77:function(t,e,r){var n=r("5ca1"),a=r("be13"),o=r("79e5"),i=r("fdef"),c="["+i+"]",l="​",s=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),f=function(t,e,r){var a={},c=o((function(){return!!i[t]()||l[t]()!=l})),s=a[t]=c?e(d):i[t];r&&(a[r]=s),n(n.P+n.F*c,"String",a)},d=f.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},b5ac:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentDetail",{attrs:{"is-edit":!0}})},a=[],o=r("0e39"),i={name:"EditContent",components:{ContentDetail:o["a"]}},c=i,l=r("2877"),s=Object(l["a"])(c,n,a,!1,null,null,null);e["default"]=s.exports},c5f6:function(t,e,r){"use strict";var n=r("7726"),a=r("69a8"),o=r("2d95"),i=r("5dbc"),c=r("6a99"),l=r("79e5"),s=r("9093").f,u=r("11e9").f,f=r("86cc").f,d=r("aa77").trim,m="Number",p=n[m],h=p,v=p.prototype,b=o(r("2aeb")(v))==m,g="trim"in String.prototype,_=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():d(e,3);var r,n,a,o=e.charCodeAt(0);if(43===o||45===o){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+e}for(var i,l=e.slice(2),s=0,u=l.length;s<u;s++)if(i=l.charCodeAt(s),i<48||i>a)return NaN;return parseInt(l,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof p&&(b?l((function(){v.valueOf.call(r)})):o(r)!=m)?i(new h(_(e)),r,p):_(e)};for(var x,w=r("9e1e")?s(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;w.length>y;y++)a(h,x=w[y])&&!a(p,x)&&f(p,x,u(h,x));p.prototype=v,v.constructor=p,r("2aba")(n,m,p)}},cc48:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"e",(function(){return o})),r.d(e,"d",(function(){return i})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return l})),r.d(e,"f",(function(){return s}));var n=r("b775");function a(){return Object(n["a"])({url:"/contents/create",method:"get"})}function o(t){return Object(n["a"])({url:"/contents",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/contents",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/contents/".concat(t),method:"delete"})}function l(t){return Object(n["a"])({url:"/contents/".concat(t),method:"get"})}function s(t,e){return Object(n["a"])({url:"/contents/".concat(t),method:"put",data:e})}},ed08:function(t,e,r){"use strict";r.d(e,"c",(function(){return n})),r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return o}));r("28a5"),r("f576"),r("a481"),r("6b54"),r("7618");var n=[{value:"0",label:"默认"},{value:"1",label:"单篇"},{value:"2",label:"列表"}];var a={input:"文本",fileUpload:"文件上传组件",editor:"富文本编辑器",imgMoreUpload:"多图上传",textarea:"文本域",time:"日期选择器",OneImgupload:"单图上传",switch:"滑块"},o=[{value:"input",label:"文本"},{value:"fileUpload",label:"文件上传组件"},{value:"editor",label:"富文本编辑器"},{value:"imgMoreUpload",label:"多图上传"},{value:"textarea",label:"文本域"},{value:"time",label:"日期选择器"},{value:"OneImgupload",label:"单图上传"},{value:"switch",label:"滑块"}]},fc98:function(t,e,r){"use strict";var n=r("9307"),a=r.n(n);a.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);