(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f21385c2"],{"25f4":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("a-alert",{attrs:{message:"全局组件",type:"warning","show-icon":""}}),e._v(" "),l("div",{staticClass:"app-container"},[l("el-button",{on:{click:e.create}},[e._v("创建")]),e._v(" "),l("el-dialog",{attrs:{width:"30%",title:"创建",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[l("el-form",{ref:"form",attrs:{model:e.detail,rules:e.rules,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"名称",prop:"title"}},[l("el-input",{model:{value:e.detail.title,callback:function(t){e.$set(e.detail,"title",t)},expression:"detail.title"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"标签",prop:"label"}},[l("el-input",{model:{value:e.detail.label,callback:function(t){e.$set(e.detail,"label",t)},expression:"detail.label"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"所属"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.belong,callback:function(t){e.belong=t},expression:"belong"}},e._l(e.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"类型"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.detail.type,callback:function(t){e.$set(e.detail,"type",t)},expression:"detail.type"}},e._l(e.customizeArray,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[l("el-table-column",{attrs:{prop:"title",label:"名称",width:"180"}}),e._v(" "),l("el-table-column",{attrs:{label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.customizeList[t.row.detail.type])+"\n\n        ")]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"标签"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.detail.label)+"\n        ")]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"所属"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.typeLabel(t.row.belong))+"\n\n        ")]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-popconfirm",{attrs:{title:"确定删除吗？"},on:{onConfirm:function(l){return e.handleDelete(t.$index,t.row)}}},[l("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1)],1)],1)},n=[],i=(l("6762"),l("ed08")),o=l("b775");function r(){return Object(o["a"])({url:"components",method:"get"})}function u(e){return Object(o["a"])({url:"components",method:"post",data:e})}function s(e){return Object(o["a"])({url:"components/".concat(e),method:"delete"})}var c=l("2ef0"),d=l.n(c),b={id:void 0,title:"",notes:"",belong:"",sort:99,detail:{}},f={name:"Custom",props:{},data:function(){return{form:b,innerVisible:!1,detail:{title:"",type:"input",value:void 0,label:"",size:{}},list:[],customizeList:i["b"],customizeArray:i["a"],options:[{value:"0",label:"栏目"},{value:"1",label:"列表"},{value:"2",label:"幻灯片"}],belong:"0",rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],label:[{required:!0,message:"请输入标签",trigger:"blur"}]}}},created:function(){this.getList()},mounted:function(){},methods:{getList:function(){var e=this;r().then((function(t){var l=t.data;e.list=l}))},create:function(){this.restFrom(),this.innerVisible=!0},typeLabel:function(e){return d.a.filter(this.options,(function(t){return t.value===e}))[0]["label"]},handleDelete:function(e,t){var l=this;s(t.id).then((function(e){l.getList()})),console.log(e,t)},restFrom:function(){this.detail={title:"",type:"input",value:void 0,range:"global",label:"",size:{}}},onSubmit:function(){var e=this;this.$refs["form"].validate((function(t){if(!t)return console.log("error submit!!"),!1;var l=["fileMore","fileUpload"];l.includes(e.detail.type)?e.detail.value=[]:e.detail.value=null,u({title:e.detail.title,notes:e.detail.title,belong:e.belong,sort:99,detail:e.detail}).then((function(t){e.getList(),e.restFrom(),e.innerVisible=!1}))}))}}},p=f,v=l("2877"),m=Object(v["a"])(p,a,n,!1,null,"ed335dda",null);t["default"]=m.exports},ed08:function(e,t,l){"use strict";l.d(t,"c",(function(){return a})),l.d(t,"b",(function(){return n})),l.d(t,"a",(function(){return i}));l("28a5"),l("f576"),l("a481"),l("6b54"),l("7618");var a=[{value:"0",label:"默认"},{value:"1",label:"单篇"},{value:"2",label:"列表"}];var n={input:"文本",fileUpload:"文件上传组件",editor:"富文本编辑器",imgMoreUpload:"多图上传",textarea:"文本域",time:"日期选择器",OneImgupload:"单图上传",switch:"滑块"},i=[{value:"input",label:"文本"},{value:"fileUpload",label:"文件上传组件"},{value:"editor",label:"富文本编辑器"},{value:"imgMoreUpload",label:"多图上传"},{value:"textarea",label:"文本域"},{value:"time",label:"日期选择器"},{value:"OneImgupload",label:"单图上传"},{value:"switch",label:"滑块"}]}}]);