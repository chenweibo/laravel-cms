(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"18f01":function(e,t,n){},"1bd7":function(e,t,n){"use strict";var i=n("4b6f"),a=n.n(i);a.a},"2ba0":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,"custom-request":e.uploadImage,remove:e.remove}},[e.imageUrl?n("img",{attrs:{width:"200",src:e.imageUrl,alt:"avatar"}}):n("div",[n("a-icon",{attrs:{type:e.loading?"loading":"plus"}}),e._v(" "),n("div",{staticClass:"ant-upload-text"},[e._v("\n        点击上传\n      ")])],1)]),e._v(" "),e.imageUrl?n("div",{staticStyle:{display:"block",width:"80px",cursor:"pointer"},on:{click:e.remove}},[n("a-icon",{staticClass:"deleteBtn",attrs:{type:"delete"}}),e._v("\n    清空")],1):e._e()],1)},a=[],l=n("91b6"),r={name:"OneUpload",props:{img:{type:String,default:""}},data:function(){return{loading:!1,imageUrl:this.img,path:""}},watch:{img:function(e){this.imageUrl=e}},methods:{uploadImage:function(e){var t=this;this.loading=!0;var n=new FormData;n.append("file",e.file),Object(l["b"])(n).then((function(e){t.imageUrl=t.path+"/storage/"+e.path,t.$emit("update:img",t.path+"/storage/"+e.path),t.loading=!1})).catch((function(){t.loading=!1}))},remove:function(){this.imageUrl="",this.$emit("update:img","")}}},o=r,s=(n("4f78"),n("2877")),u=Object(s["a"])(o,i,a,!1,null,null,null);t["a"]=u.exports},"3de8":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{ref:"select",attrs:{value:e.valueTitle,clearable:e.clearable},on:{clear:e.clearHandle}},[n("el-option",{staticClass:"options",attrs:{value:e.valueTitle,label:e.valueTitle}},[n("el-tree",{ref:"selectTree",attrs:{id:"tree-option",accordion:e.accordion,data:e.options,props:e.props,"default-expand-all":"","node-key":e.props.value,"default-expanded-keys":e.defaultExpandedKey},on:{"node-click":e.handleNodeClick}})],1)],1)},a=[],l=(n("ac6a"),n("c5f6"),{name:"TreeSelect",props:{props:{type:Object,default:function(){return{value:"id",label:"title",children:"children"}}},options:{type:Array,default:function(){return[]}},value:{type:Number,default:null},clearable:{type:Boolean,default:!1},accordion:{type:Boolean,default:!1}},data:function(){return{valueId:null,valueTitle:"",defaultExpandedKey:[]}},watch:{value:function(){this.valueId=this.value,this.initHandle()},options:{handler:function(e,t){this.valueId=this.value,this.initHandle()},deep:!0}},mounted:function(){this.valueId=this.value,this.initHandle()},methods:{initHandle:function(){var e=this;this.valueId?this.$nextTick((function(){var t=e.$refs.selectTree.getNode(e.valueId);null!=t&&(e.valueTitle=t.data[e.props.label],e.$refs.selectTree.setCurrentKey(e.valueId),e.defaultExpandedKey=[e.valueId])})):this.valueTitle="",this.initScroll()},initScroll:function(){this.$nextTick((function(){var e=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0],t=document.querySelectorAll(".el-scrollbar .el-scrollbar__bar");e.style.cssText="margin: 0px; max-height: none; overflow: hidden;",t.forEach((function(e){return e.style.width=0}))}))},handleNodeClick:function(e){this.valueTitle=e[this.props.label],this.valueId=e[this.props.value],this.$emit("getValue",[this.valueId,e]),this.defaultExpandedKey=[],this.$refs.select.blur()},clearHandle:function(){this.valueTitle="",this.valueId=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue",null)},clearSelected:function(){var e=document.querySelectorAll("#tree-option .el-tree-node");e.forEach((function(e){return e.classList.remove("is-current")}))}}}),r=l,o=(n("1bd7"),n("2877")),s=Object(o["a"])(r,i,a,!1,null,"3f178652",null);t["a"]=s.exports},"4b6f":function(e,t,n){},"4f78":function(e,t,n){"use strict";var i=n("d451"),a=n.n(i);a.a},"533d":function(e,t,n){"use strict";var i=n("876b"),a=n.n(i);a.a},"6bb2":function(e,t,n){"use strict";var i=n("b449"),a=n.n(i);a.a},8256:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-container",class:{fullscreen:e.fullscreen},style:{width:e.containerWidth}},[n("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}}),e._v(" "),n("div",{staticClass:"editor-custom-btn-container"},[n("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:e.imageSuccessCBK}})],1)])},a=[],l=(n("ac6a"),n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-container"},[n("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("\n    上传\n  ")]),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("MoreImgUpload",{attrs:{"file-list":e.fileList},on:{"update:fileList":function(t){e.fileList=t},"update:file-list":function(t){e.fileList=t}}}),e._v(" "),n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("\n      取消\n    ")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("\n      确认\n    ")])],1)],1)}),r=[],o=n("f0d6"),s={name:"EditorSlideUpload",components:{MoreImgUpload:o["a"]},props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,fileList:[]}},methods:{handleSubmit:function(){this.$emit("successCBK",this.fileList),this.fileList=[],this.dialogVisible=!1}}},u=s,c=(n("c17b"),n("2877")),d=Object(c["a"])(u,l,r,!1,null,"1490f676",null),f=d.exports,p=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount "],m=p,v=["fontsizeselect  fontselect formatselect searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen  "],h=v;n("ac4d"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54");function b(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=y(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,l=!0,r=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return l=e.done,e},e:function(e){r=!0,a=e},f:function(){try{l||null==i.return||i.return()}finally{if(r)throw a}}}}function y(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _=[];function w(){return window.tinymce}var x=function(e,t){var n=document.getElementById(e),i=t||function(){};if(!n){var a=document.createElement("script");a.src=e,a.id=e,document.body.appendChild(a),_.push(i);var l="onload"in a?r:o;l(a)}function r(t){t.onload=function(){this.onerror=this.onload=null;var e,n=b(_);try{for(n.s();!(e=n.n()).done;){var i=e.value;i(null,t)}}catch(a){n.e(a)}finally{n.f()}_=null},t.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+e),t)}}function o(e){e.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var t,n=b(_);try{for(n.s();!(t=n.n()).done;){var i=t.value;i(null,e)}}catch(a){n.e(a)}finally{n.f()}_=null}}}n&&i&&(w()?i(null,n):_.push(i))},k=x,C="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.5/tinymce.min.js",I={name:"Tinymce",components:{editorImage:f},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var e=this.width;return/^[\d]+(\.[\d]+)?$/.test(e)?"".concat(e,"px"):e}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(t.tinymceId).setContent(e||"")}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var e=this;k(C,(function(t){t?e.$message.error(t.message):e.initTinymce()}))},initTinymce:function(){var e=this,t=this;window.tinymce.init({selector:"#".concat(this.tinymceId),language:this.languageTypeList["zh"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:h,menubar:this.menubar,plugins:m,fontsize_formats:"7pt 10pt 12pt 14pt 18pt 24pt 36pt",end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){t.value&&n.setContent(t.value),t.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",(function(){e.hasChange=!0,e.$emit("input",n.getContent())}))},setup:function(e){e.on("FullscreenStateChanged",(function(e){t.fullscreen=e.state}))},convert_urls:!1})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this,n="/storage/";e.forEach((function(e){window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'.concat(n).concat(e.path,'" >'))}))}}},$=I,S=(n("6bb2"),Object(c["a"])($,i,a,!1,null,"77b20494",null));t["a"]=S.exports},"876b":function(e,t,n){},"957c5":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.extra,(function(t,i){return n("el-form-item",{key:i,attrs:{label:t.title}},["input"===t.type?n("el-input",{attrs:{placeholder:"请输入"+t.title},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}}):e._e(),e._v(" "),"textarea"===t.type?n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入"+t.title},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}}):e._e(),e._v(" "),"editor"===t.type?n("tinymce",{attrs:{height:300},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}}):e._e(),e._v(" "),"imgMoreUpload"===t.type?n("MoreImgUpload",{attrs:{"file-list":t.value},on:{"update:fileList":function(n){return e.$set(t,"value",n)},"update:file-list":function(n){return e.$set(t,"value",n)}}}):e._e(),e._v(" "),"time"===t.type?n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}}):e._e(),e._v(" "),"OneImgupload"===t.type?n("imgUpload",{attrs:{img:t.value},on:{"update:img":function(n){return e.$set(t,"value",n)}}}):e._e(),e._v(" "),"fileUpload"===t.type?n("fileUpload",{attrs:{"file-list":t.value},on:{"update:fileList":function(n){return e.$set(t,"value",n)},"update:file-list":function(n){return e.$set(t,"value",n)}}}):e._e(),e._v(" "),"switch"===t.type?n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}}):e._e()],1)})),1)},a=[],l=n("f0d6"),r=n("8256"),o=n("2ba0"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-upload",{attrs:{"custom-request":e.uploadImage,remove:e.remove,"file-list":e.defaultFileList}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v(" 文件上传 ")],1)],1)],1)},u=[],c=n("91b6"),d={name:"FileUpload",props:{fileList:{type:Array,default:function(){return[]}}},data:function(){return{imgUrl:"",defaultFileList:this.fileList}},created:function(){},methods:{uploadImage:function(e,t){var n=this,i=new FormData;i.append("file",e.file),Object(c["a"])(i).then((function(e){n.defaultFileList.push({uid:-(n.fileList.length+1),name:e.origin_name,status:"done",path:"/storage/"+e.path,url:n.imgUrl+"/storage/"+e.path})})).catch((function(){})),e.status="done"},remove:function(e){var t=this.defaultFileList.filter((function(t){return t!==e}));this.$emit("update:fileList",t),this.defaultFileList=t}}},f=d,p=n("2877"),m=Object(p["a"])(f,s,u,!1,null,null,null),v=m.exports,h={name:"CustomizeView",components:{MoreImgUpload:l["a"],Tinymce:r["a"],imgUpload:o["a"],fileUpload:v},props:{extra:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){},mounted:function(){},methods:{}},b=h,y=Object(p["a"])(b,i,a,!1,null,"7ce03066",null);t["a"]=y.exports},a879:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("el-button",{staticStyle:{"margin-right":"12px"},attrs:{size:"mini",type:"warning"},on:{click:function(t){e.dialog=!0}}},[e._v("\n    字段设置\n  ")]),e._v(" "),n("el-dialog",{attrs:{title:"字段管理",visible:e.dialog,width:"60%"},on:{"update:visible":function(t){e.dialog=t}}},[n("a-alert",{attrs:{message:"提示",description:"此自定义标签,适用于局部,如文章添加一个特性需每次创建都要自定义字段，如需全局渲染请到全局字段管理添加全局参数",type:"warning","show-icon":""}}),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.create}},[e._v("创建")]),e._v(" "),n("el-dialog",{attrs:{width:"30%",title:"创建",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"名称",prop:"title"}},[n("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"标签",prop:"label"}},[n("el-input",{model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.customizeArray,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.extra,height:"500"}},[n("el-table-column",{attrs:{prop:"title",label:"名称"}}),e._v(" "),n("el-table-column",{attrs:{prop:"label",label:"标签"}}),e._v(" "),n("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{"disable-transitions":"",type:"primary"}},[e._v(e._s(e.customizeList[t.row.type]))])]}}])}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["global"!==t.row.range?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.deleteHandleClick(t.$index,t.row)}}},[e._v("删除")]):n("el-tag",{attrs:{type:"warning","disable-transitions":""}},[e._v("全局组件")])]}}])})],1)],1)],1)},a=[],l=(n("6762"),n("ed08")),r={name:"Customize",components:{},props:{extra:{type:Array,default:function(){return[]}}},data:function(){return{dialog:!1,innerVisible:!1,customizeList:l["b"],customizeArray:l["a"],form:{title:"",type:"input",value:void 0,label:"",size:{},range:"local"},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],label:[{required:!0,message:"请输入标签",trigger:"blur"}]}}},created:function(){},mounted:function(){},methods:{deleteHandleClick:function(e,t){this.extra.splice(e,1)},create:function(){this.restFrom(),this.innerVisible=!0},restFrom:function(){this.form={title:"",type:"input",value:void 0,label:"",size:{}}},onSubmit:function(){var e=this;this.$refs["form"].validate((function(t){if(!t)return console.log("error submit!!"),!1;var n=["fileMore","fileUpload"];n.includes(e.form.type)&&(e.form.value=[]),"switch"===e.form.type&&(e.form.value=!1),e.extra.push(e.form),e.restFrom(),e.innerVisible=!1}))}}},o=r,s=(n("533d"),n("2877")),u=Object(s["a"])(o,i,a,!1,null,"6c2543b6",null);t["a"]=u.exports},b449:function(e,t,n){},c17b:function(e,t,n){"use strict";var i=n("18f01"),a=n.n(i);a.a},c2fa:function(e,t,n){},d451:function(e,t,n){},f0d6:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"clearfix"},[n("a-upload",{attrs:{"list-type":"picture-card","file-list":e.fileList,"custom-request":e.uploadImage,remove:e.remove},on:{preview:e.handlePreview}},[e.fileList.length<8?n("div",[n("a-icon",{attrs:{type:"plus"}}),e._v(" "),n("div",{staticClass:"ant-upload-text"},[e._v("\n        多图上传\n      ")])],1):e._e()]),e._v(" "),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)},a=[],l=(n("96cf"),n("3b8d")),r=n("91b6");function o(e){return new Promise((function(t,n){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return t(i.result)},i.onerror=function(e){return n(e)}}))}var s={name:"MoreImgUpload",props:{fileList:{type:Array,default:function(){return[]}}},data:function(){return{previewVisible:!1,previewImage:"",imgUrl:""}},methods:{handleCancel:function(){this.previewVisible=!1},uploadImage:function(e){var t=this,n=new FormData;n.append("file",e.file),Object(r["b"])(n).then((function(e){t.fileList.push({uid:-(t.fileList.length+1),name:e.origin_name,status:"done",path:e.path,url:t.imgUrl+"/storage/"+e.path})}))},handlePreview:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,o(t.originFileObj);case 3:t.preview=e.sent;case 4:this.previewImage=t.url||t.preview,this.previewVisible=!0;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),remove:function(e){var t=this.fileList.filter((function(t){return t!==e}));this.$emit("update:fileList",t),this.fileList=t}}},u=s,c=(n("f484"),n("2877")),d=Object(c["a"])(u,i,a,!1,null,null,null);t["a"]=d.exports},f484:function(e,t,n){"use strict";var i=n("c2fa"),a=n.n(i);a.a}}]);